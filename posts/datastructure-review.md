---
title: 数据结构期末复习
date: Mon Feb 20 2023 18:46:21 GMT+0800 (中国标准时间)
abstract: Cheat Sheet
category: review
---

# 数据结构期末复习

> 考试范围
> - 1.5 算法规范
> - 1.7 性能分析和度量
> - 2.2 

## 11. 多路查找树

### B 树的定义

$m$ 阶 B 树是 $m$ 路查找树，它或者为空，或者满足下列性质：

- 根节点至少有两个孩子；
- 除根结点以外，所有节点至少有 $\lceil m/2\rceil$ 个孩子。

### B 树的插入算法

B 树的插入算法首先要进行一次查找操作，从而确定新元素应该插入到哪个结点中。设这个结点为 $p$。若插入新元素后，$p$ 中的元素个数达到了 $m$，则对 $p$ 进行分裂。分裂过程如下：首先假设插入新元素后，$p$ 的结构为：

$$
m,A_0,(E_1,A_1),(E_2,A_2),\cdots,(E_m,A_m)
$$

结点 $p$ 被分裂为两个结点：

$$
p: \lceil m/2 \rceil, A_0, (E_1,A_1),\cdots,(E_{\lceil m/2 \rceil-1},A_{\lceil m/2 \rceil-1})\\
q: m-\lceil m/2 \rceil, A_{\lceil m/2 \rceil}, (E_{\lceil m/2 \rceil+1},A_{\lceil m/2 \rceil+1}),\cdots,(E_m,A_m)
$$

剩下的一个元素 $E_{\lceil m/2 \rceil}$ 将和指向 $q$ 的指针一起组成一个元组 $(E_{\lceil m/2 \rceil},q)$，插入到 $p$ 的父结点。

### B 树的删除算法

假设要删除关键字为 $x$ 的结点。首先在书中进行一次查找操作，若在一个非叶结点 $z$ 中找到了 $x$，那么 $x$ 在 $z$ 中的位置将被一个叶子节点的元素所替换。设 $x$ 为 $z$ 的第 $i$ 个关键字，则 $E_i$ 将被子树 $A_i$ 中最小的元素所替换。这两个元素一定都在叶子结点中。这样，从非叶结点进行删除的工作就转换为了从叶子结点进行删除。

从叶子结点 $p$ 中删除一个元素，共有四种情况：

1. $p$ 是根结点。删除之后，若根结点中至少还剩一个元素，则删除过程结束。否则 B 树将变为一棵空树；
2. 删除之后结点 $p$ 至少还剩 $\lceil m/2 \rceil-1$ 个元素，则删除过程结束；
3. $p$ 中还剩 $\lceil m/2 \rceil-2$ 个元素，且离它最近的兄弟节点 $q$ 至少含有 $\lceil m/2 \rceil$ 个元素。执行一次旋转操作，令 $q$ 的结点数减 $1$，$p$ 的结点数加 $1$；
4. $p$ 中还剩 $\lceil m/2 \rceil-2$ 个元素，而离它最近的兄弟节点 $q$ 含有 $\lceil m/2 \rceil-1$ 个元素。我们把 $p$、$q$ 以及它们之间的元素 $E_i$ 合并成一个结点。合并过程将会使父节点 $r$ 的元素数目减一，若 $r$ 的元素数目小于 $\lceil m/2 \rceil-1$，则需要对 $r$ 进行相应的处理。此过程可以沿 B 树一直向上延伸，直至根结点的孩子完成合并。