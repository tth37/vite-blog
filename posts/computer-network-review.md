---
title: 计算机网络期末复习
date: Thu Jan 04 2024 13:23:25 GMT+0800 (China Standard Time)
abstract: 期末复习
---

# 计算机网络期末复习

## Chapter 1 计算机网络概述

### 计算机网络、Internet

构成、通信基础设施

> 端系统通过**通信链路**（communication link）和**分组交换机**（packet switch）的网络连接到一起。不同的通信链路能够以不同的速率传输数据，链路的**传输速率**（transmission rate）以比特/秒度量。当一台端系统要向另一台端系统发送数据时，发送端系统将数据分段，并为每段加上首部字节，由此形成的信息包就是**分组**（packet）。这些分组通过网络发送到目的端系统，在哪里被装配成初始数据。
>
> 分组交换机从它的一条入通信链路接收到达的分组，并从它的一条出通信链路转发该分组。两种常见的分组交换机是**路由器**（router）和**链路层交换机**（link-layer switch）。
>
> 端系统通过**因特网服务提供商**（ISP）接入因特网。端系统、分组交换机和其他因特网部件都要运行多个**协议**（protocal），这些协议控制因特网中信息的接收和发送。

<font color="red">网络协议</font>

> **协议**（protocal）定义了在两个或多个通信实体之间交换的报文的格式和顺序，以及报文的发送/接收或其他事件所采取的动作。

### 网络边缘

<font color="red">位置</font>

> 通常把与因特网相连的计算机和其他设备成为端系统，端系统也被称为主机（host）。主机有时候又被进一步话分成两类：**客户端**（client）和**服务器**（server）。今天，大部分提供搜索结果、电子邮件、Web 网页、视频和移动应用内容的服务器都属于大型**数据中心**（data center）。

家庭接入

> 家庭住户通常从提供本地电话接入的本地电话公司获得**数字用户线**（Digital Subscriber Line，DSL）因特网接入，因此在使用 DSL 时，用户的本地电话公司也是他的 ISP。每个用户的 DSL 调制解调器使用现有的电话线与位于电话公司的本地中心局（CO）中的数字用户线接入复用器（DSLAM）交换数据。家庭的 DSL 调制解调器得到数字数据后将其转换为高频音，以通过电话线传输给本地中心局；来自许多家庭的模拟信号在 DSLAM 处被转换回数字形式。
>
> 住宅电话线同时承载了数据和传统的电话信号，它们用不同的频率进行编码。
>
> ![](/assets/net-fig1.png)
>
> DSL 利用电话公司现有的本地电话基础设施，而**电缆因特网接入**（cable Internet access）利用了有线电视公司现有的有线电视基础设施。光缆将电缆头端连接到地区枢纽，从这里通过传统的同轴电缆到达各个家庭。每个地区枢纽通常支持 500~5000 个家庭。因为在这个系统中既应用了光纤也应用了同轴电缆，所以经常被称为混合光纤同轴（Hybrid Fiber Coax，HFC）系统。
>
> ![](/assets/net-fig2.png)
>
> **光纤到户**（Fiber To The Home，FTTH）是一种住宅接入技术，提供了一条从本地中心局直接到家庭的光线路径。FTTH 能够提供大约每秒千兆比特的因特网接入速率。

企业接入

> **以太网**用户使用双绞线与一台以太网交换机相连；以太网交换机或以这种方式相连的交换机网络，则再与更大的因特网相连。
>
> 今天许多家庭将宽带住宅接入（即电缆调制解调器或 DSL）与廉价的无线局域网技术结合起来，以组成强大的家用网络。一个家庭网络的组成如下：一台漫游的便携机、多个与因特网相连的家电产品或一台有线 PC；一个与无线 PC 和家中其它无线设备通信的基站（无线接入点）；一个将无线接入点和家中其他无线设备与因特网相连的家用路由器。

广域无线接入

> 便携移动设备越来越多地用来在移动环境中发信息。这些设备应用了与蜂窝移动电话相同的无线基础设施，通过蜂窝网提供商运营的基站来发送和接收分组。与 WiFi 不同的是，用户仅需要距离基站数万米（而不是几十米）的范围内。

### 网络核心

<font color="red">位置</font>

> 网络核心指互联因特网端系统的分组交换机和链路构成的网状网络。
>
> ![](/assets/net-fig3.png)

<font color="red">分组交换（存储转发）</font>

> 为了从源端系统向目的端系统发送一个报文，源将长报文划分为较小的数据块，成为**分组**（packet）。在源和目的地之间，每个分组都通过通信链路和**分组交换机**（packet switch）传送。分组以等于该链路最大传输速率的速度通过通信链路。
>
> 分组交换机在链路的输入端使用**存储转发传输**（store-and-forward transmission）机制。存储转发是指一个分组被传输到下一个链路之前，其整个分组必须完全到达路由器。如果忽略传播时延，通过由 $N$ 条速率均为 $R$ 的链路组成的路径，从源到目的地发送一个分组，其端到端时延是 $d_{\text{end-end}}=N\dfrac{L}{R}$。
>
> 每台分组交换机有多条链路与之相连。对于每条相连的链路，该分组交换机具有一个**输出缓存**（output buffer），它用于存储路由器准备发往那条链路的分组。如果到达的分组需要传输到某条链路，但发现该链路正忙于传输其他分组，该到达分组必须在输出缓存中等待，这就是输出缓存的**排队时延**（queueing delay）。因为缓存空间的大小是有限的，一个到达的分组可能发现该缓存已被其他等待传输的分组完全充满了，在此情况下，将会出现**分组丢失（丢包）**（packet loss）。

电路交换

> 在电路交换网络中，当两台主机要通信时，该网络在两台主机之间创建一条专用的**端到端连接**（end-to-end connection）。链路中的**电路**是通过**频分复用**（FDM）或**时分复用**（TDM）来实现的

<font color="red">多路复用（时分、频分）</font>

> 对于 FDM，链路的频谱由跨越链路创建的所有连接共享，在连接期间为每条连接专设一个频段。对于 TDM 链路，实践被划分为固定时段的帧，并且每个帧又被划分为固定数量的时隙；当网络跨越一条链路创建连接时，网络在每个帧中为该连接指定一个时隙，这些时隙专门由该连接单独使用，一个时隙（在每个帧内）可用于传输该连接的数据。
>
> ![](/assets/net-fig4.png)
>
> 电路交换的端到端时延通常由传输时间和建立链路时间组成，其中传输速率为链路最大传输速率除以时隙数量得到。

<font color="red">电路交换与分组交换的比较</font>

> 在同样的网络资源配置条件下，分组交换允许更多用户使用网络：假设每个用户的活跃周期是变化的，在活跃期间用户以恒定速率产生数据，在静止期间用户不产生数据。对于电路交换，在所有的时间内必须为每个用户预留足够的带宽，而分组交换在通过链路时基本没有时延。
>
> 分组交换更适合于对突发式数据传输，因为分组交换不必建立连接，并且活跃用户可以以全部链路速率发送其分组。
>
> 然而分组交换的过度使用可能会造成网络拥塞，因此可靠的数据传输需要协议来约束。

网络结构

> ![](/assets/net-fig5.png)

### 网络体系结构

<font color="red">分层的优点与原则</font>

> 概念化：结构清晰，便于标示网络组件，以及描述其相互关系。
>
> 结构化：模块化更易于维护和系统升级。改变某一层服务的实现不会影响系统中的其他层次。

<font color="red">层间通信（相邻服务，对等协议）</font>

> 服务与协议的区别
> - 服务（service）：低层实体向上层实体提供它们之间通信的能力，是通过原语（primitive）来操作的，垂直
> - 协议（protocol）：对等层实体（peer entity）之间在相互通信的过程中，需要遵循的规则的集合，水平
>
> 服务与协议的联系
> - 本层协议的实现要靠下层提供的服务来实现
> - 本层实体通过协议为上层提供更高级的服务

数据封装

> ![](/assets/net-fig6.png)

<font color="red">网络体系结构定义</font>

> TBD.

<font color="red">OSI 体系结构模型</font>

> - 应用层（application layer）：提供应用程序便捷的网络服务调用
> - 表示层（presentation layer）：关注所传递信息的语法和语义，管理数据的表示方法，传输的数据结构
> - 会话层（session layer）：在应用程序之间建立和维持会话，并使会话获得同步
> - 传输层（transport layer）：将数据从源端口发送到目的端口（进程到进程）
> - 网络层（network layer）：将数据包跨越网络从源设备发送到目的设备
> - 数据链路层（data-link layer）：实现相邻（neighboring）网络实体间的数据传输，从物理层的比特流中提取出完整的帧
> - 物理层（physical layer）：定义如何在信道上传输 0/1

<font color="red">TCP/IP 体系结构模型及二者比较</font>

> ![](/assets/net-fig7.png)
>
> OSI 模型的不足
> - 从未真正被实现：TCP/IP 已成为事实标准，OSI 缺少厂家支持
> - 技术实现糟糕：OSI 分层欠缺技术考虑：会话层、表示层很少内容；数据链路层、网络层内容繁杂，模型和协议过于复杂；分层间功能重复：差错控制、流量控制等在不同层反复出现
> - 非技术因素：TCP/IP 实现为 UNIX 的一部分，免费；OSI 被认为是政府和机构的强加标准
>
> TCP/IP 模型的不足
> - 核心概念未能体现：未明确区分服务、接口和协议等核心概念
> - 不具备通用性：不适于描述 TCP/IP 之外的其他协议栈
> - 混用接口与分层的设计：链路层和物理层一起被定义为网络接口层，而非真正意义上的分层
> - 模型欠缺完整性：未包含物理层与数据链路层

### 网络性能

<font color="red">分组时延（处理、排队、传输、传播）</font>

> 1. 节点处理时延：检查比特级差错，检查分组首部和决定将分组导向何处
> 2. 排队时延：在输出链路上等待传输的时间，依赖于路由器的拥塞程度
> 3. 传输时延：记链路带宽为 $R(\text{bps})$，分组长度为 $L(\text{bit})$，则传输时延即将分组发送到链路上的时间 $\dfrac LR$
> 4. 传播时延：记链路长度为 $d(\text{m})$，传播速率为 $s(\text{m/s})$，则传播时延为 $\dfrac ds$
>
> 记分组到达队列的平均速率为 $a$，流量强度即为 $\dfrac{La}R$。
> - $\dfrac{La}R\sim 0$：平均排队时延很小
> - $\dfrac{La}R\rightarrow 1$：时延变得很大
> - $\dfrac{La}R>1$：队列长度趋于无穷大，平均时延趋于无穷大

丢包

> 链路的队列缓冲区容量有限，当分组到达一个满的队列时，该分组将会丢失。丢失的分组可能会被前一个节点或源端系统重传，或根本不重传。

吞吐量

> 在源端和目标端之间传输的速率（数据量/单位时间）
> - 瞬间吞吐量：在一个时间点的速率
> - 平均吞吐量：在一个长时间内平均值
>
> 端到端平均吞吐 $\min\{R_1,R_2,\cdots,R_n\}$